// Add these to the imports at the top of routes/api.php (around line 10-35):

use App\Http\Controllers\Api\DistrictDashboardController;
use App\Http\Controllers\Api\DistrictUsersController;
use App\Http\Controllers\Api\DistrictReportsController;
use App\Http\Controllers\Api\DistrictApprovalsController;
use App\Http\Controllers\Api\DistrictSettingsController;

// Replace the District Admin Routes section (around line 115-119) with:

        // District Admin Routes
        Route::middleware('checkrole:district_admin')->prefix('district')->group(function () {
            // Facilities management
            Route::get('/facilities', [DistrictFacilityController::class, 'index']);
            Route::get('/facilities/export', [DistrictFacilityController::class, 'export']);

            // Dashboard
            Route::get('/dashboard', [DistrictDashboardController::class, 'index']);

            // Health Workers management
            Route::get('/users', [DistrictUsersController::class, 'index']);
            Route::get('/users/{id}', [DistrictUsersController::class, 'show']);
            Route::put('/users/{id}', [DistrictUsersController::class, 'update']);
            Route::delete('/users/{id}', [DistrictUsersController::class, 'destroy']);

            // Reports
            Route::get('/reports/appointments', [DistrictReportsController::class, 'appointmentStats']);
            Route::get('/reports/trends', [DistrictReportsController::class, 'visitTrends']);
            Route::get('/reports/vaccination-progress', [DistrictReportsController::class, 'vaccinationProgress']);
            Route::get('/reports/high-risk-cases', [DistrictReportsController::class, 'highRiskCases']);

            // Approvals (registrations & reschedules)
            Route::get('/approvals/registrations', [DistrictApprovalsController::class, 'pendingRegistrations']);
            Route::post('/approvals/registrations/{id}/approve', [DistrictApprovalsController::class, 'approveRegistration']);
            Route::post('/approvals/registrations/{id}/reject', [DistrictApprovalsController::class, 'rejectRegistration']);
            Route::get('/approvals/reschedules', [DistrictApprovalsController::class, 'pendingReschedules']);
            Route::post('/approvals/reschedules/{appointmentId}/approve', [DistrictApprovalsController::class, 'approveReschedule']);
            Route::post('/approvals/reschedules/{appointmentId}/reject', [DistrictApprovalsController::class, 'rejectReschedule']);

            // Settings
            Route::get('/settings', [DistrictSettingsController::class, 'index']);
            Route::put('/settings', [DistrictSettingsController::class, 'update']);
            Route::get('/profile', [DistrictSettingsController::class, 'profile']);
            Route::put('/profile', [DistrictSettingsController::class, 'updateProfile']);
        });
